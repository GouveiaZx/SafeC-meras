# ==================================================
# NEWCAM BACKEND PRODUCTION ENVIRONMENT
# ==================================================
# Servidor: nuvem.safecameras.com.br (66.94.104.241)
# Configuração otimizada para produção - Janeiro 2025

# ==================================================
# CORE APPLICATION
# ==================================================
NODE_ENV=production
PORT=3002
API_PORT=3002
FRONTEND_URL=https://nuvem.safecameras.com.br
BACKEND_URL=http://localhost:3002

# ==================================================
# SUPABASE DATABASE
# ==================================================
SUPABASE_URL=https://grkvfzuadctextnbpajb.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdya3ZmenVhZGN0ZXh0bmJwYWpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMjQyMzgsImV4cCI6MjA2ODgwMDIzOH0.Simv8hH8aE9adQiTf6t1BZIcMPniNh9ecpjxEeki4mE
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdya3ZmenVhZGN0ZXh0bmJwYWpiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzIyNDIzOCwiZXhwIjoyMDY4ODAwMjM4fQ.XJoPu5InA_s3pfryZfSChBqZnu7zBV3vwH7ZM4jf04M

# ==================================================
# AUTHENTICATION
# ==================================================
JWT_SECRET=newcam-jwt-secret-production-2025-extended-secure-key
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=12
WORKER_TOKEN=newcam-worker-token-2025-secure

# ==================================================
# REDIS CACHE
# ==================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================================================
# ZLMEDIAKIT STREAMING
# ==================================================
ZLM_SECRET=9QqL3M2K7vHQexkbfp6RvbCUB3GkV4MK
ZLM_API_URL=http://localhost:8000/index/api
ZLM_BASE_URL=http://localhost:8000

# ==================================================
# WASABI S3 STORAGE
# ==================================================
WASABI_ACCESS_KEY=8WBR4YFE79UA94TBIEST
WASABI_SECRET_KEY=A9hNRDUEzcyhUtzp0SAE51IgKcJtsP1b7knZNe5W
WASABI_BUCKET=safe-cameras-03
WASABI_REGION=us-east-2
WASABI_ENDPOINT=https://s3.us-east-2.wasabisys.com

# ==================================================
# S3 UPLOAD CONFIGURATION
# ==================================================
S3_UPLOAD_ENABLED=true
S3_UPLOAD_CONCURRENCY=3
S3_UPLOAD_MAX_RETRIES=5
S3_UPLOAD_RETRY_DELAY=2000
S3_UPLOAD_TIMEOUT=300000
S3_MULTIPART_THRESHOLD=104857600
S3_PART_SIZE=10485760
S3_PRESIGN_TTL=3600
PREFER_S3_STREAMING=true
DELETE_LOCAL_AFTER_UPLOAD=false
ENABLE_UPLOAD_QUEUE=true

# ==================================================
# SECURITY SETTINGS
# ==================================================
CORS_ORIGIN=https://nuvem.safecameras.com.br
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=200
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
SESSION_SECRET=newcam-session-secret-production-2025-secure

# ==================================================
# LOGGING
# ==================================================
LOG_LEVEL=info
LOG_FILE=/var/log/newcam/backend.log
ERROR_LOG_FILE=/var/log/newcam/backend_error.log
LOG_MAX_SIZE=50MB
LOG_MAX_FILES=10

# ==================================================
# STORAGE PATHS - PRODUCTION
# ==================================================
UPLOAD_DIR=/var/www/newcam/storage/uploads
RECORDING_PATH=/var/www/newcam/storage/www/record/live
RECORDINGS_PATH=/var/www/newcam/storage/www/record/live
STORAGE_BASE_PATH=/var/www/newcam/storage
TEMP_PATH=/var/www/newcam/storage/temp
LOGS_PATH=/var/log/newcam

# ==================================================
# STREAMING CONFIGURATION
# ==================================================
RTSP_PORT=554
RTMP_PORT=1936
STREAMING_QUALITY=1080p
MAX_CONCURRENT_STREAMS=100
HLS_SEGMENT_DURATION=6
HLS_PLAYLIST_SIZE=10

# ==================================================
# RECORDING SETTINGS
# ==================================================
RECORDING_ENABLED=true
RECORDING_DURATION=3600
RECORDING_QUALITY=high
AUTO_DELETE_RECORDINGS=false
RECORDING_RETENTION_DAYS=30
LOCAL_RETENTION_DAYS=7

# ==================================================
# MONITORING & HEALTH CHECKS
# ==================================================
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
ALERT_EMAIL=admin@safecameras.com.br
METRICS_PORT=9090

# ==================================================
# CAMERA SETTINGS
# ==================================================
DEFAULT_CAMERA_TIMEOUT=30000
MAX_RECONNECT_ATTEMPTS=5
RECONNECT_INTERVAL=5000
STREAM_BUFFER_SIZE=2048

# ==================================================
# UPLOAD WORKER CONFIGURATION
# ==================================================
UPLOAD_POLL_INTERVAL=30000

# ==================================================
# BACKUP SETTINGS
# ==================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/var/backups/newcam
AUTO_BACKUP_TIME=02:00
BACKUP_INTERVAL=24

# ==================================================
# NOTIFICATIONS
# ==================================================
NOTIFICATIONS_ENABLED=true
WEBHOOK_URL=
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# ==================================================
# AI/ML SETTINGS (DISABLED IN PRODUCTION)
# ==================================================
AI_ENABLED=false
AI_MODEL_PATH=/var/www/newcam/models
OBJECT_DETECTION_ENABLED=false
FACE_RECOGNITION_ENABLED=false
MOTION_DETECTION_ENABLED=true

# ==================================================
# DEBUG & DEVELOPMENT (DISABLED IN PRODUCTION)
# ==================================================
DEBUG_MODE=false
VERBOSE_LOGGING=false
PROFILING_ENABLED=false

# ==================================================
# FILE UPLOAD LIMITS
# ==================================================
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,mp4,avi,mov

# ==================================================
# FFMPEG PATHS
# ==================================================
FFMPEG_PATH=/usr/bin/ffmpeg
FFPROBE_PATH=/usr/bin/ffprobe

# ==================================================
# SERVICE TOKEN
# ==================================================
SERVICE_TOKEN=newcam-internal-service-production-2025-secure