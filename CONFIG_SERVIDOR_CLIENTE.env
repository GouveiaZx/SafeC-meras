# ===========================================
# CONFIGURAÇÃO DO SERVIDOR CLIENTE - NewCAM
# ===========================================

# IMPORTANTE: Copiar este arquivo para .env no backend e frontend
# Substitua [SEU_VALOR] pelos valores reais do servidor do cliente

# ===========================================
# BACKEND - Variáveis de Ambiente
# ===========================================

# Supabase (OBRIGATÓRIO - obter do dashboard do cliente)
SUPABASE_URL=https://[PROJECT_ID].supabase.co
SUPABASE_ANON_KEY=[ANON_KEY]
SUPABASE_SERVICE_ROLE_KEY=[SERVICE_ROLE_KEY]

# Configuração do Servidor
NODE_ENV=production
PORT=3002

# Streaming Server
STREAMING_SERVER=zlm
ZLM_API_URL=http://localhost:8080
ZLM_SECRET_KEY=[ZLM_SECRET_KEY]

# Configurações de Segurança
JWT_SECRET=[JWT_SECRET_32_CHARS_MIN]
BCRYPT_ROUNDS=12

# Configurações de E-mail (opcional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=[EMAIL]
SMTP_PASS=[SENHA]

# Configurações de Armazenamento
RECORDINGS_PATH=./storage/recordings
STREAMS_PATH=./storage/streams
MAX_STORAGE_GB=100

# Logs
LOG_LEVEL=info
LOG_FILE=./logs/backend.log

# ===========================================
# FRONTEND - Variáveis de Ambiente
# ===========================================

# URLs do Servidor
VITE_API_URL=http://localhost:3002
VITE_WS_URL=ws://localhost:3002

# Configurações de Build
VITE_BUILD_PATH=./dist
VITE_ASSETS_DIR=./src/assets

# Modo de Produção
VITE_ENV=production

# ===========================================
# ZLMEDIAMKIT - Configurações
# ===========================================

# Configurações do Servidor
ZLM_MEDIA_SERVER_ID=zlm_server_01
ZLM_HTTP_PORT=8080
ZLM_HTTPS_PORT=8443
ZLM_RTMP_PORT=1935
ZLM_RTSP_PORT=554

# Segurança
ZLM_SECRET_KEY=[ZLM_SECRET_KEY]

# ===========================================
# INSTRUÇÕES DE CONFIGURAÇÃO
# ===========================================

# 1. Supabase:
#    - Criar novo projeto no Supabase
#    - Copiar Project ID para SUPABASE_URL
#    - Copiar Anon Key para SUPABASE_ANON_KEY
#    - Copiar Service Role Key para SUPABASE_SERVICE_ROLE_KEY

# 2. ZLMediaKit:
#    - Instalar ZLMediaKit no servidor
#    - Copiar config.ini para zlmediakit/
#    - Gerar secret key única

# 3. Segurança:
#    - Gerar JWT_SECRET forte (32+ caracteres)
#    - Configurar HTTPS no nginx
#    - Configurar firewall

# 4. Pastas:
#    - Criar pasta logs/
#    - Criar pasta storage/recordings/
#    - Criar pasta storage/streams/

# ===========================================
# COMANDOS DE VERIFICAÇÃO
# ===========================================

# Testar Supabase:
# curl -H "apikey: $SUPABASE_ANON_KEY" $SUPABASE_URL/rest/v1/cameras?select=*

# Testar ZLMediaKit:
# curl http://localhost:8080/index/api/getServerConfig

# Testar Backend:
# curl http://localhost:3002/api/health

# ===========================================
# NOTAS IMPORTANTES
# ===========================================

# - Nunca commitar este arquivo com valores reais
# - Usar variáveis de ambiente do sistema quando possível
# - Configurar CI/CD para injeção segura de secrets
# - Documentar todas as alterações no servidor